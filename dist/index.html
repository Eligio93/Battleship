<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../src/style.css">
   
    <title>Document</title>
</head>
<body>
    <div id="main">
        <div id="deployment-board">

        </div>
        <div id="selection-panel">
            <h1>Drag your ships</h1>
            <div id="ships-dragging-container">
                <div class="dragging-ship" data-length="5" draggable="true">
                    <div></div>
                    <div></div>
                    <div></div>
                    <div></div>
                    <div></div>
                </div>
                <div class="dragging-ship" data-length="4" draggable="true">
                    <div></div>
                    <div></div>
                    <div></div>
                    <div></div>
                </div>
                <div class="dragging-ship" data-length="3" draggable="true">
                    <div></div>
                    <div></div>
                    <div></div>
                </div>
                <div class="dragging-ship" data-length="3" draggable="true">
                    <div></div>
                    <div></div>
                    <div></div>
                </div>
                <div class="dragging-ship" data-length="2" draggable="true">
                    <div></div>
                    <div></div>
                </div>
            </div>
           
            <button id="rotate">Rotate</button>
        </div>
    

    </div>
   
    <!-- <div class="game-section"id="player-side">
    </div>
    <div class="game-section" id="computer-side"></div>
    <script src="main.js"></script> -->
    <script>
        let rotateBtn=document.getElementById("rotate");
        rotateBtn.addEventListener("click",function(){
            let shipBlock=document.getElementById("ships-dragging-container");
            let shipBlockDirection=window.getComputedStyle(shipBlock).getPropertyValue("flex-direction");
            if(shipBlockDirection =="column"){
                shipBlock.style.flexDirection="row";
                shipBlock.querySelectorAll(".dragging-ship").forEach(ship=>{
                ship.style.width="30px";
                ship.style.flexWrap="wrap";
                ship.style.height="fit-content";
            })}else{
                shipBlock.style.flexDirection="column";
                shipBlock.querySelectorAll(".dragging-ship").forEach(ship=>{
                ship.style.width="";
                ship.style.flexWrap="";
                ship.style.height="";
            })
                
               

            }
        })
        function displayInitialBoard(){
            for (let i = 0; i < 10; i++) {
                for (let j = 0; j < 10; j++) {
                    let cell = document.createElement("div");
                    cell.className = "cell";
                    cell.textContent = i + '' + j;
                    cell.setAttribute("data-coordinates", i + '' + j);
                    document.getElementById("deployment-board").appendChild(cell);
                }
            }
            

        }
        displayInitialBoard();
        let draggingShip=document.querySelectorAll(".dragging-ship");
        for(let ship of draggingShip){
            ship.addEventListener("dragstart",function(){
                console.log("start");
            })
        }
        for(let ship of draggingShip){
            ship.addEventListener("dragend",function(){
                console.log("end");
            })
        }
        let droppingCell=document.querySelectorAll(".cell");
        for(let cell of droppingCell){
            cell.addEventListener("dragover",function(e){
                e.preventDefault();
                console.log("over");
            })
            cell.addEventListener("dragenter",function(e){
                e.preventDefault();
                setTimeout(() => {
                    console.log("enter");
                }, 0);
            })
            cell.addEventListener("dragleave",function(e){
                console.log("leave");
            })
            cell.addEventListener("drop",function(e){
                console.log("drop");
            })
        }

    </script>
</body>
</html>